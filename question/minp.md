---
sidebar_position: 5
title: 小程序 常见问题
---

### 1.小程序预定SDK 义埋点事件onError 和 onShareAppMessage，是所有类型小程序都会采集吗，还是只有微信小程序？
**A:** 都有的，onError是采集小程序错误，onShareAppMessage是设置分享给朋友，在开启onShareAppMessage的基础上再设置onShareTimeline分享到朋友圈；onShareTimeline仅安卓微信支持

### 3. 小程序sdk包能压缩吗？目前客户反馈小程序集成SDK后影响发版
**A:**只能采用分包，把SDK的引入和初始化放在主包里；目前没有测试过，不确定是否有问题

### 4. 小程序SDK 其他事件发送，不发送 Page事件，怎么排查？
**A:**Page 事件不发送原因可能：<br/>
1.客户重写了Page，建议将重写了的 page 放在SDK初始化之前引入<br/>
2.微信小程序的直播控件页面暂时无法实现发送 page 事件<br/>
3.小程序SDK集成时机要正确

### 5.dataCollect 设置 false 之后，发现事件数据不上报，为什么？
**A：**SDK关闭数据采集 dataCollect 设置 false 时，所有事件都不采集。只有开启了数据采集 dataCollect 为 ture 时，事件数据才会采集上报

### 6.集成SDK后，为什么接收不到数据？
**A：**
* host 配置错误
* 没有在微信小程序后台添加请求服务器域名
* host是否可以正常访问

### 7.用户信息保护，以及 GDPR 该怎么设置？
**A：**参考[小程序SDK合规说明](/docs/compliance/minpCompliance)


### 8.小程序不上报Page事件了？

**A：**请检查小程序内是否有重写Page的逻辑，或者使用了第三方类似带有动效的Page插件。

### 9.初始化开启forceLogin以后不上报任何事件了？

**A：** 请[参考文档](/docs/miniprogram/3.8/initSettings#forcelogin)正确使用。


### 10. 3.3版本SDK支持 mpvue 和 WePY1.x，3.8版本不支持了？
**A：**
* mpvue官方已经不维护两年之久，且依然存在较多的开发问题，故我们认为它已经被放弃，请尝试升级到其他框架。
* WePY2.x已经出现许久，且依然存在较多的开发问题，故我们已放弃对WePY1.x的支持，请尝试升级到WePY2.0或其他框架。

### 11. 淘宝小程序上报事件时平台类型是支付宝？

**A：**因为阿里系的小程序都是以支付宝小程序的框架为底层逻辑，基础api都是通用的。

### 12. 我们对SDK大小有要求，如何移除多余功能插件？

**A：** 目前暂不支持自助热插拔插件，如有需要请联系我们的技术支持。

### 13. 新版SDK支持京东小程序、快手小程序吗？

**A：**我们的工程师正在加紧适配中，敬请期待。

### 14. 我们使用的3.3版本SDK，一定要升级吗？

**A：**如果您认为当前版本已满足需求且没有其他Bug，可以选择不升级，但3.3版本SDK不再进行新功能迭代。

### 15. 小程序SDK支持小程序插件的数据采集吗？

**A：** 支持埋点，SDK运行在小程序插件或淘宝小程序小部件中会自动切换为插件模式，在插件中发送VISIT事件；您也可以通过传参将 gdp 方法传入进行埋点。

### 16. 使用了3.8版本的SDK以后运营SDK(弹窗、资源位)组件报错或无法使用了？

**A：**新版SDK架构调整导致存取值逻辑不同导致。请同步升级运营SDK即可，无需做其他修改。

### 17. 支付宝小程序已添加白名单发布后仍收不到数据？

**A：**请检查是否为先发布后添加白名单，添加白名单后重新发布即可。

### 18. 为何小程序挂起后再进入有时是同一次访问(即访问用户Id一致)有时又会是一次新的访问(即访问用户Id不一致)？

**A：**请检查用户使用场景，以下两种场景会被SDK视为一次新的访问：

* > 两次进入场景值不一致(即进入方式不同)。
* > 两次进入场景值一致，但间隔超过keepAlive(详情请见初始化配置项)指定值(默认为5分钟)。

### 19. 我们有多个环境的appId，是否可以通过接口调用获取到appId后再初始化SDK？
**A：**
* 不可以，SDK初始化必须在小程序初始化加载之前，待可以接口调用时，小程序已经初始化完成。
* 如果您有多个小程序appId用于区分测试和生产环境，可以通过本地判断的方式。
