<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/growingio-sdk-docs/blog/rss.xml" title="ä¸€ç«™å¼æ•°æ®å¢é•¿å¼•æ“ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/growingio-sdk-docs/blog/atom.xml" title="ä¸€ç«™å¼æ•°æ®å¢é•¿å¼•æ“ Blog Atom Feed"><title data-react-helmet="true">MavenCentral è¿ç§»æ­¥éª¤ | ä¸€ç«™å¼æ•°æ®å¢é•¿å¼•æ“</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://growingio.github.io/growingio-sdk-docs/growingio-sdk-docs/blog/MavenCentral"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="MavenCentral è¿ç§»æ­¥éª¤ | ä¸€ç«™å¼æ•°æ®å¢é•¿å¼•æ“"><meta data-react-helmet="true" name="description" content="éšç€ Jcenter æœåŠ¡çš„å³å°†è¿‡æœŸï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„ä»“åº“æ¥å‘è¡Œæˆ‘ä»¬çš„SDK.äºæ˜¯æˆ‘ä»¬æ‰¾ä¸Šäº† MavenCentralï¼Œå¹¶é’ˆå¯¹å¦‚ä½•åœ¨MavenCentralæäº¤åŒ…å†™äº†è¿™ç¯‡æ–‡ç« ã€‚"><meta data-react-helmet="true" property="og:description" content="éšç€ Jcenter æœåŠ¡çš„å³å°†è¿‡æœŸï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„ä»“åº“æ¥å‘è¡Œæˆ‘ä»¬çš„SDK.äºæ˜¯æˆ‘ä»¬æ‰¾ä¸Šäº† MavenCentralï¼Œå¹¶é’ˆå¯¹å¦‚ä½•åœ¨MavenCentralæäº¤åŒ…å†™äº†è¿™ç¯‡æ–‡ç« ã€‚"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-07-21T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/cpacm"><meta data-react-helmet="true" property="article:tag" content="scripts,gradle"><link data-react-helmet="true" rel="shortcut icon" href="/growingio-sdk-docs/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://growingio.github.io/growingio-sdk-docs/growingio-sdk-docs/blog/MavenCentral"><link data-react-helmet="true" rel="alternate" href="https://growingio.github.io/growingio-sdk-docs/growingio-sdk-docs/blog/MavenCentral" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://growingio.github.io/growingio-sdk-docs/growingio-sdk-docs/blog/MavenCentral" hreflang="x-default"><link rel="stylesheet" href="/growingio-sdk-docs/assets/css/styles.979e8752.css">
<link rel="preload" href="/growingio-sdk-docs/assets/js/runtime~main.b8ca66b8.js" as="script">
<link rel="preload" href="/growingio-sdk-docs/assets/js/main.546b92c9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/growingio-sdk-docs/"><img src="/growingio-sdk-docs/img/logo.svg" alt="GrowingIO Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/growingio-sdk-docs/img/logo.svg" alt="GrowingIO Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a class="navbar__item navbar__link" href="/growingio-sdk-docs/docs">æ–‡æ¡£</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/growingio-sdk-docs/blog">åšå®¢</a></div><div class="navbar__items navbar__items--right"><a href="https://www.growingio.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>å®˜ç½‘<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/growingio" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/growingio-sdk-docs/blog/MavenCentral">MavenCentral è¿ç§»æ­¥éª¤</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">MavenCentral è¿ç§»æ­¥éª¤</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-07-21T00:00:00.000Z" itemprop="datePublished">July 21, 2021</time> Â· 11 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_1R69"><div class="avatar margin-bottom--sm"><a href="https://github.com/cpacm" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_1yU8" src="https://avatars.githubusercontent.com/u/7134104?v=4" alt="cpacm"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/cpacm" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">cpacm</span></a></div><small class="avatar__subtitle" itemprop="description">GrowingIO SDK Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>éšç€ Jcenter æœåŠ¡çš„å³å°†è¿‡æœŸï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„ä»“åº“æ¥å‘è¡Œæˆ‘ä»¬çš„SDK.äºæ˜¯æˆ‘ä»¬æ‰¾ä¸Šäº† MavenCentralï¼Œå¹¶é’ˆå¯¹å¦‚ä½•åœ¨MavenCentralæäº¤åŒ…å†™äº†è¿™ç¯‡æ–‡ç« ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="æ³¨å†Œè´¦å·"></a>æ³¨å†Œè´¦å·<a class="hash-link" href="#æ³¨å†Œè´¦å·" title="Direct link to heading">#</a></h2><p>å‰å¾€ <a href="https://issues.sonatype.org/" target="_blank" rel="noopener noreferrer">sonatype</a> æ³¨å†Œè´¦å·ï¼Œè´¦å·æ³¨å†Œå®Œæ¯•åéœ€è¦æä¸ªissueæ¥ç”³è¯· groupid .</p><p>å¦‚ <a href="https://issues.sonatype.org/browse/OSSRH-66388" target="_blank" rel="noopener noreferrer">OSSRH-66388</a> æ‰€ç¤ºï¼Œå¦‚æœæ˜¯GitHubæˆ–gitlabä¸‹çš„é¡¹ç›®ï¼Œå¯ä»¥ç”³è¯· <code>io.github.&lt;yourname&gt;</code>ã€‚
å¦‚æœæ˜¯åŸŸåï¼Œåˆ™éœ€è¦åœ¨åŸŸåçš„dnsè§£æä¸‹æ·»åŠ  TXT è®°å½•ï¼Œå¦‚ <a href="https://issues.sonatype.org/browse/OSSRH-66397" target="_blank" rel="noopener noreferrer">OSSRH-66397</a>ä¸¾ä¾‹ï¼Œtxtå‰ç¼€ä¸ºOSSRH-66397 å€¼ä¸ºç½‘å€<a href="https://issues.sonatype.org/browse/OSSRH-66397" target="_blank" rel="noopener noreferrer">https://issues.sonatype.org/browse/OSSRH-66397</a>.</p><blockquote><p>åœ¨2021å¹´2æœˆå‰ç”³è¯·çš„è´¦å·ï¼Œmavenä»“åº“çš„åœ°å€ä¸º <a href="https://oss.sonatype.org/" target="_blank" rel="noopener noreferrer">https://oss.sonatype.org/</a>ï¼Œè€Œåœ¨ä¹‹åç”³è¯·çš„çš„åœ°å€ä¸º <a href="https://s01.oss.sonatype.org/" target="_blank" rel="noopener noreferrer">https://s01.oss.sonatype.org/</a>.ä¸è¿‡ä¹Ÿå¯ä»¥åœ¨<a href="https://issues.sonatype.org/" target="_blank" rel="noopener noreferrer">sonatype</a>ä¸Šæ issue æ¥ç”³è¯·å˜æ›´åŸŸååœ°å€ï¼Œå¦‚è¿™ä¸ªissueæ‰€ç¤º-&gt;<a href="https://issues.sonatype.org/browse/OSSRH-66964" target="_blank" rel="noopener noreferrer">OSSRH-66964</a></p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="maven-central"></a>Maven Central<a class="hash-link" href="#maven-central" title="Direct link to heading">#</a></h2><p>æ³¨å†Œç»“æŸåï¼Œå¯ä»¥å‰å¾€<a href="https://s01.oss.sonatype.org/" target="_blank" rel="noopener noreferrer">nexus repository</a>æŸ¥çœ‹è‡ªå·±çš„ä»“åº“ã€‚åœ¨ä»“åº“ä¸­ä¸€èˆ¬åˆ†ä¸ºä¸¤ç§æäº¤æ–¹å¼ï¼Œä¸€ç§æ˜¯ SNAPSHOT ç‰ˆæœ¬ï¼Œä¸€ç§æ˜¯æ­£å¼ç‰ˆæœ¬ã€‚
ä¸¤è€…ä»“åº“åœ°å€ä¸åŒï¼Œåˆ†åˆ«ä¸ºï¼š<a href="https://s01.oss.sonatype.org/content/repositories/snapshots" target="_blank" rel="noopener noreferrer">https://s01.oss.sonatype.org/content/repositories/snapshots</a> å’Œ <a href="https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/" target="_blank" rel="noopener noreferrer">https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="snapshot"></a>SNAPSHOT<a class="hash-link" href="#snapshot" title="Direct link to heading">#</a></h3><p>SNAPSHOT ç‰ˆæœ¬å¯ä»¥åœ¨åŒä¸€ç‰ˆæœ¬å·ä¸‹å¤šæ¬¡æäº¤ï¼Œå½“å…¶ä»–äººæ‹‰å–è¯¥ç‰ˆæœ¬å·æ—¶ä¼šå–æœ€åæäº¤çš„åŒ…ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º
<img alt="SNAPSHOT" src="/growingio-sdk-docs/assets/images/SNAPSHOT-df589c8a731b619549f4b193393ae814.png">
åœ¨ SNAPSHOT ä»“åº“ä¸­åŒä¸€ä¸ªç‰ˆæœ¬ä¸‹å¤šä¸ªåŒ…ä¼šé€šè¿‡æäº¤æ—¥æœŸæ¥åŒºåˆ†ï¼Œè¿™æ ·åˆ«äººä¾èµ–æŸä¸ªç‰ˆæœ¬æ—¶å°±èƒ½è·å¾—æœ€æ–°æ›´æ–°çš„åŒ…ã€‚
åŒæ—¶ SNAPSHOT ä¸ä¼šå¯¹æäº¤çš„åŒ…è¿›è¡Œ <code>close</code> æ“ä½œæ¥å¯¹å…¶è¿›è¡Œå®¡æ ¸ï¼Œæ²¡æœ‰ä¸€å®šè¦æœ‰ <code>javadoc</code>ã€<code>sources</code>ã€<code>GPGåŠ å¯†</code>ç­‰è¦æ±‚ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="æ­£å¼ç‰ˆ"></a>æ­£å¼ç‰ˆ<a class="hash-link" href="#æ­£å¼ç‰ˆ" title="Direct link to heading">#</a></h3><p>æäº¤æ­£å¼ç‰ˆååŒ…ä¼šå…ˆè¿›å…¥ <code>Staging Repositories</code>,ç„¶åéœ€è¦åœ¨è¿™é‡Œä¾æ¬¡æ‰§è¡Œ <code>close</code> å’Œ <code>release</code> æ“ä½œï¼Œ<code>close</code>æ“ä½œä¼šéªŒè¯æœ¬æ¬¡çš„æäº¤çš„åŒ…æ˜¯å¦åŒ…å« <code>javadoc</code>ã€<code>sources</code>ã€<code>GPGåŠ å¯†æ–‡ä»¶</code> å’Œ <code>pom</code>æ–‡ä»¶çš„åˆæ³•ç­‰ï¼Œé€šè¿‡åæ‰èƒ½æ‰§è¡Œ <code>release</code> æ“ä½œå‘å®˜æ–¹ä»“åº“å‘å¸ƒã€‚</p><p><img alt="Staging Repositories" src="/growingio-sdk-docs/assets/images/Repositories-47dce28bfb4733fb20a5b42150110bf2.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="å¼€å§‹å‡†å¤‡"></a>å¼€å§‹å‡†å¤‡<a class="hash-link" href="#å¼€å§‹å‡†å¤‡" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="1-é…ç½®-gpg-ç§é’¥"></a>1. é…ç½® GPG ç§é’¥<a class="hash-link" href="#1-é…ç½®-gpg-ç§é’¥" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cmd"><pre tabindex="0" class="prism-code language-cmd codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"># ç”Ÿæˆè¯ä¹¦ï¼Œé‡Œé¢ä¼šè¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œæœ‰æ•ˆæœŸä¸¤å¹´ã€‚</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --gen-key</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># æŸ¥çœ‹å…¬é’¥</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --list-keys</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># æŸ¥çœ‹ç§é’¥</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --list-secret-keys</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># å°†è¯ä¹¦ä¸Šä¼  key serverï¼Œæ©ï¼Œå›½å†…éœ€è¦ä»£ç†</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --keyserver-options http-proxy=127.0.0.1:1087 --send-keys D81E8990E415EDE0</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># æŸ¥çœ‹8ä½çŸ­id</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --list-keys --keyid-format short</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># ç”Ÿæˆç§é’¥æ–‡ä»¶ï¼Œé…ç½®åˆ°gradleä½¿ç”¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">gpg --export-secret-keys -o secring.gpg</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># ç”Ÿæˆbase64æ–‡ä»¶ï¼Œåç»­æ”¾å…¥github secrets ä¸­ä½¿ç”¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">base64 secring.gpg &gt; secring.gpg.b64</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å…·ä½“å¯å‚è€ƒ <a href="https://central.sonatype.org/publish/requirements/gpg/" target="_blank" rel="noopener noreferrer">gpgé…ç½®</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="2-æœ¬åœ°å…¨å±€-gradle-é…ç½®"></a>2. æœ¬åœ°å…¨å±€ gradle é…ç½®<a class="hash-link" href="#2-æœ¬åœ°å…¨å±€-gradle-é…ç½®" title="Direct link to heading">#</a></h3><p>æ‰¾åˆ° <code>.gradle</code>æ–‡ä»¶å¤¹ä¸‹gradle.propertiesæ–‡ä»¶ï¼Œå¦‚ä¸‹è¿›è¡Œé…ç½®</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly gradle"><pre tabindex="0" class="prism-code language-gradle codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">## growingio&#x27;s config</span></span><span class="token-line" style="color:#393A34"><span class="token plain">NEXUS_USERNAME=&lt;sonatypeè´¦å·&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">NEXUS_PASSWORD=&lt;sonatypeå¯†ç &gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.keyId=09B66CAF</span></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.password=&lt;ç”Ÿæˆè¯ä¹¦æ—¶çš„è¾“å…¥å¯†ç &gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">signing.secretKeyRingFile=&lt;ç”Ÿæˆç§é’¥æ–‡ä»¶çš„æ–‡ä»¶è·¯å¾„&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å½“ç„¶åœ¨é¡¹ç›®ä¸‹çš„gradle.propertiesä¹ŸåŒæ ·ç”Ÿæ•ˆã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="3-é…ç½®-pom-æ–‡ä»¶"></a>3. é…ç½® pom æ–‡ä»¶<a class="hash-link" href="#3-é…ç½®-pom-æ–‡ä»¶" title="Direct link to heading">#</a></h3><p>åœ¨æ ¹é¡¹ç›®ä¸‹çš„ gradle.properties æ·»åŠ ä»¥ä¸‹é…ç½®è¯´æ˜ï¼Œè¿™äº›è¯´æ˜å°†ä¼šä¸€ä¸€å¡«å…¥åˆ° pom æ–‡ä»¶ä¸­</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">GROUP=com.growingio.android</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_DESCRIPTION=GrowingIO Android SDK Library.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_DEVELOPER_EMAIL=sdk-integration@growingio.com</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_URL=https://github.com/growingio/growingio-sdk-android-autotracker</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_SCM_URL=https://github.com/growingio/growingio-sdk-android-autotracker</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_SCM_CONNECTION=scm:git@github.com:growingio/growingio-sdk-android-autotracker.git</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_SCM_DEV_CONNECTION=scm:git@github.com:growingio/growingio-sdk-android-autotracker.git</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_LICENCE_NAME=The Apache Software License, Version 2.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_LICENCE_URL=http://www.apache.org/licenses/LICENSE-2.0.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_LICENCE_DIST=repo</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_DEVELOPER_ID=GrowingIo Sdk</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_DEVELOPER_NAME=GrowingIo Sdk</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="4-ç¼–å†™gradleçš„mavenä¸Šä¼ ä»£ç "></a>4. ç¼–å†™gradleçš„mavenä¸Šä¼ ä»£ç <a class="hash-link" href="#4-ç¼–å†™gradleçš„mavenä¸Šä¼ ä»£ç " title="Direct link to heading">#</a></h3><p><a href="https://central.sonatype.org/publish/publish-gradle/" target="_blank" rel="noopener noreferrer">sonatype çš„gradleæ•™ç¨‹</a> å·²ç»è¿‡æœŸå¥½ä¹…äº†ï¼Œè¿™é‡Œæ¨èåœ¨ Github ä¸Šçš„<a href="https://github.com/chrisbanes/gradle-mvn-push" target="_blank" rel="noopener noreferrer">gradle-mvn-push</a>ã€‚åé¢çš„æ‰€æœ‰æ”¹åŠ¨éƒ½åŸºäºåœ¨è¿™ä¸ªæ–‡ä»¶ç‰ˆæœ¬ä¸Šå¾—æ¥çš„ï¼Œå…·ä½“å¦‚ä½•æ”¹åŠ¨åœ¨åç»­è¯´æ˜ã€‚
ç¤ºä¾‹ä»£ç  <code>publishMaven.gradle</code>ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">/*</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Copyright 2021 Cpacm</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * you may not use this file except in compliance with the License.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * You may obtain a copy of the License at</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> *     http://www.apache.org/licenses/LICENSE-2.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Unless required by applicable law or agreed to in writing, software</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * See the License for the specific language governing permissions and</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * limitations under the License.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Based on: https://github.com/mcxiaoke/gradle-mvn-push/blob/master/gradle-mvn-push.gradle.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * To install in a local maven repo:</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 1. In the project you want to test, add mavenLocal() to the repositories list.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 2. In Project, run: ./gradlew publishToMavenLocal</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * For faster runs add: -x check when building.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">apply plugin: &#x27;maven-publish&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">apply plugin: &#x27;signing&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">version = releaseConfiguration.releaseVersion</span></span><span class="token-line" style="color:#393A34"><span class="token plain">group = GROUP</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">@SuppressWarnings(&quot;GrMethodMayBeStatic&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def isReleaseBuild() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return !version.contains(&quot;SNAPSHOT&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def getReleaseRepositoryUrl() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return hasProperty(&#x27;RELEASE_REPOSITORY_URL&#x27;) ? RELEASE_REPOSITORY_URL</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            : &#x27;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def getSnapshotRepositoryUrl() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return hasProperty(&#x27;SNAPSHOT_REPOSITORY_URL&#x27;) ? SNAPSHOT_REPOSITORY_URL</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            : &#x27;https://s01.oss.sonatype.org/content/repositories/snapshots/&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def getRepositoryUsername() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return hasProperty(&#x27;USERNAME&#x27;) ? USERNAME : (hasProperty(&#x27;NEXUS_USERNAME&#x27;) ? NEXUS_USERNAME : &#x27;&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def getRepositoryPassword() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return hasProperty(&#x27;PASSWORD&#x27;) ? PASSWORD : (hasProperty(&#x27;NEXUS_PASSWORD&#x27;) ? NEXUS_PASSWORD : &#x27;&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def configurePom(pom) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pom.name = POM_NAME</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pom.packaging = POM_PACKAGING</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pom.description = POM_DESCRIPTION</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pom.url = POM_URL</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pom.scm {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        url = POM_SCM_URL</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        connection = POM_SCM_CONNECTION</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        developerConnection = POM_SCM_DEV_CONNECTION</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pom.licenses {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        license {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            name = POM_LICENCE_NAME</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            url = POM_LICENCE_URL</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            distribution = POM_LICENCE_DIST</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pom.developers {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        developer {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            id = POM_DEVELOPER_ID</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            name = POM_DEVELOPER_NAME</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            email = POM_DEVELOPER_EMAIL</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">afterEvaluate { project -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    def isAndroidProject = project.plugins.hasPlugin(&#x27;com.android.application&#x27;) || project.plugins.hasPlugin(&#x27;com.android.library&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    publishing {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        repositories {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            maven {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                def releasesRepoUrl = getReleaseRepositoryUrl()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                def snapshotsRepoUrl = getSnapshotRepositoryUrl()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                url = isReleaseBuild() ? releasesRepoUrl : snapshotsRepoUrl</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                credentials(PasswordCredentials) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    username = getRepositoryUsername()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    password = getRepositoryPassword()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (isAndroidProject) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        task androidJavadocs(type: Javadoc, dependsOn: assembleDebug) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            source = android.sourceSets.main.java.source</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            classpath += project.files(android.getBootClasspath().join(File.pathSeparator))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            // include BuildConfig.java</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            classpath += project.files(project.file(&quot;build/generated/source/buildConfig/debug&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            excludes = [&#x27;**/*.kt&#x27;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        task androidJavadocsJar(type: Jar, dependsOn: androidJavadocs) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            classifier = &#x27;javadoc&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from androidJavadocs.destinationDir</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        task androidSourcesJar(type: Jar) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            classifier = &#x27;sources&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from android.sourceSets.main.java.source</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        android.libraryVariants.all { variant -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            tasks.androidJavadocs.doFirst {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                classpath += files(variant.javaCompileProvider.get().classpath.files.join(File.pathSeparator))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        task sourcesJar(type: Jar, dependsOn: classes) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            classifier = &#x27;sources&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from sourceSets.main.allSource</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        task javadocsJar(type: Jar, dependsOn: javadoc) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            classifier = &#x27;javadoc&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            from javadoc.destinationDir</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        artifacts {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            archives sourcesJar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            archives javadocsJar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (JavaVersion.current().isJava8Compatible()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        allprojects {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            tasks.withType(Javadoc) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                options.addStringOption(&#x27;Xdoclint:none&#x27;, &#x27;-quiet&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (JavaVersion.current().isJava9Compatible()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        allprojects {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            tasks.withType(Javadoc) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                options.addBooleanOption(&#x27;html5&#x27;, true)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    artifacts {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (isAndroidProject) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            archives androidSourcesJar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            archives androidJavadocsJar</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            archives project.tasks.bundleDebugAar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    publishing {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        publications {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            mavenAgent(MavenPublication) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                groupId GROUP</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                artifactId POM_ARTIFACT_ID</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                version version</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                configurePom(pom)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (isAndroidProject) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    artifact bundleReleaseAar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    artifact androidSourcesJar</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    pom.withXml {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        def dependenciesNode = asNode().appendNode(&#x27;dependencies&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        project.configurations.all { configuration -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            def name = configuration.name</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            // api will duplicate with implementation</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            if (name == &#x27;releaseImplementation&#x27; || name == &#x27;implementation&#x27;) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                configuration.allDependencies.each {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    if (it.name != &quot;unspecified&quot; &amp;&amp; it.version != &quot;unspecified&quot;) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        def groupId = it.group</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        def artifactId = it.name</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        if (it instanceof ProjectDependency) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            def properties = it.getDependencyProject().getProperties()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            groupId = properties.get(&quot;GROUP&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            artifactId = properties.get(&quot;POM_ARTIFACT_ID&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        println &quot;dependencies:&quot; + groupId + &quot;:&quot; + artifactId + &quot;:&quot; + it.version</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        def dependencyNode = dependenciesNode.appendNode(&#x27;dependency&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        dependencyNode.appendNode(&#x27;groupId&#x27;, groupId)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        dependencyNode.appendNode(&#x27;artifactId&#x27;, artifactId)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        dependencyNode.appendNode(&#x27;version&#x27;, it.version)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        dependencyNode.appendNode(&#x27;scope&#x27;, &#x27;compile&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    from components.java</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    artifact sourcesJar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    artifact javadocsJar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (project.plugins.hasPlugin(&#x27;java-gradle-plugin&#x27;)) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                pluginMaven(MavenPublication) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    groupId GROUP</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    artifactId POM_ARTIFACT_ID</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    version version</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    configurePom(pom)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">signing {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    required { isReleaseBuild() &amp;&amp; gradle.taskGraph.hasTask(&quot;publish&quot;) }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    publishing.publications.all { publication -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sign publication</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åŸºæœ¬ä½¿ç”¨ï¼šåœ¨éœ€è¦å‘å¸ƒçš„é¡¹ç›®ä¸‹æ·»åŠ  <code>gradle.properties</code>æ–‡ä»¶ï¼Œå¹¶æ³¨æ˜ <code>ARTIFACT_ID</code>åï¼Œå¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">POM_NAME=autotracker</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_ARTIFACT_ID=autotracker</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_PACKAGING=aar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">POM_DESCRIPTION=GrowingIO Android SDK AutoTracker.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åŒæ—¶åœ¨ <code>build.gradle</code> ä¸­å¼•å…¥è¯¥æ–‡ä»¶</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly gradle"><pre tabindex="0" class="prism-code language-gradle codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">apply from: &quot;${rootProject.projectDir}/gradle/publishMaven.gradle&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cmd"><pre tabindex="0" class="prism-code language-cmd codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"># ä¸Šä¼ åˆ°æœ¬åœ°ä»“åº“</span></span><span class="token-line" style="color:#393A34"><span class="token plain">./gradlew publishToMavenLocal</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"># ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“</span></span><span class="token-line" style="color:#393A34"><span class="token plain">./gradlew publish</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="5-github-ciè„šæœ¬"></a>5. Github Ciè„šæœ¬<a class="hash-link" href="#5-github-ciè„šæœ¬" title="Direct link to heading">#</a></h3><p>GitHubä¸Šæœ‰æä¾› Action è¿™ä¸€å·¥å…·ï¼Œè¯¥å·¥å…·å¯ä»¥åœ¨çº¿ä¸Šè¿›è¡Œå„ç§æ“ä½œï¼šæ¯”å¦‚ç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œæ ¡éªŒç­‰ï¼Œæ‰€ä»¥æ‰“åŒ…ä¸Šä¼ ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><ol><li><p>é…ç½® Github Secrets
<img alt="Github Secrets" src="/growingio-sdk-docs/assets/images/Secrets-97c7b28c2cd437c3b4768d3bb6ae38ad.png">
å„ä¸ªé…ç½®åˆ†åˆ«å¯¹åº” <code>å…¨å±€ gradle é…ç½®</code> æ­¥éª¤ä¸­çš„å„ä¸ªå‚æ•°ï¼Œå…¶ä¸­ <code>SIGNING_SECRET_KEY_RING_FILE</code> æ˜¯ç§˜é’¥æ–‡ä»¶ç»è¿‡ base64 åäº§ç”Ÿçš„å­—ç¬¦ä¸²ã€‚</p></li><li><p>è‡ªåŠ¨ close å’Œ release
è¿™é‡Œç›´æ¥ä½¿ç”¨ <a href="https://github.com/Codearte/gradle-nexus-staging-plugin" target="_blank" rel="noopener noreferrer">gradle-nexus-staging-plugin</a>çš„æ’ä»¶ã€‚å®ƒèƒ½é€šè¿‡ sonatype çš„apiæ¥è‡ªåŠ¨å®ç° <code>Staging Repositories</code>ä¸Šçš„closeå’Œreleaseæ“ä½œ</p></li><li><p>å®Œæ•´ciè„šæœ¬</p></li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><pre tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Publish Maven</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">release</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">types</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">published</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">publish</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v2</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Set up JDK 1.8</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">java@v1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">java-version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.8</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Gradle ç¼“å­˜é…ç½®</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Cache Gradle packages</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/cache@v2</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ~/.gradle/caches</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> runner.os </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">gradle</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> hashFiles(&#x27;</span><span class="token important">**/*.gradle&#x27;)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">restore-keys</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> runner.os </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">gradle</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># ç»™ gradlew æ–‡ä»¶æˆæƒ</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Grant Permission to Execute</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          chmod +x gradlew</span></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          chmod +x gradle/publishAllToMavenLocal.sh</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># æ„å»ºé¡¹ç›®</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Build with Gradle</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          bash ./gradle/publishAllToMavenLocal.sh</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># è§£ç ç§˜é’¥</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Decode</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          echo &quot;${{secrets.SIGNING_SECRET_KEY_RING_FILE}}&quot; &gt; ~/.gradle/secring.gpg.b64</span></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          base64 -d ~/.gradle/secring.gpg.b64 &gt; ~/.gradle/secring.gpg</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Publish to Sonatype</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">NEXUS_USERNAME</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.NEXUS_USERNAME </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">NEXUS_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.NEXUS_PASSWORD </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./gradlew publish </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">PNEXUS_USERNAME=&quot;$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">NEXUS_USERNAME</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&quot; </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">PNEXUS_PASSWORD=&quot;$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">NEXUS_PASSWORD</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&quot; </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Psigning.keyId=$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">secrets.SIGNING_KEY_ID</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Psigning.password=$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">secrets.SIGNING_PASSWORD</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Psigning.secretKeyRingFile=$(echo ~/.gradle/secring.gpg)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Close And Release Package</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">NEXUS_USERNAME</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.NEXUS_USERNAME </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">NEXUS_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.NEXUS_PASSWORD </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./gradlew tryCloseAndReleaseRepository </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">PNEXUS_USERNAME=&quot;$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">NEXUS_USERNAME</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&quot; </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">PNEXUS_PASSWORD=&quot;$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">NEXUS_PASSWORD</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è‡³æ­¤ï¼Œä¸€å¥—å®Œæ•´çš„è‡ªåŠ¨æ‰“åŒ…ç³»ç»Ÿå°±æ­å»ºå®Œæˆäº†ã€‚</p><hr><p>å‚è€ƒèµ„æ–™ï¼š</p><ol><li><a href="https://docs.github.com/cn/actions/reference/events-that-trigger-workflows" target="_blank" rel="noopener noreferrer">github action</a></li><li><a href="https://docs.gradle.org/current/userguide/signing_plugin.html#sec:signatory_credentials" target="_blank" rel="noopener noreferrer">gradle é…ç½®</a></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="é™„å½•ï¼šå…³äºåœ¨-growingio-å„ä¸ªä»“åº“ä¸Šé‡åˆ°çš„å‡ ä¸ªé—®é¢˜"></a>é™„å½•ï¼šå…³äºåœ¨ GrowingIO å„ä¸ªä»“åº“ä¸Šé‡åˆ°çš„å‡ ä¸ªé—®é¢˜<a class="hash-link" href="#é™„å½•ï¼šå…³äºåœ¨-growingio-å„ä¸ªä»“åº“ä¸Šé‡åˆ°çš„å‡ ä¸ªé—®é¢˜" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="gradle-plugin-æ’ä»¶æ‰“åŒ…"></a>gradle plugin æ’ä»¶æ‰“åŒ…<a class="hash-link" href="#gradle-plugin-æ’ä»¶æ‰“åŒ…" title="Direct link to heading">#</a></h3><p>pluginé¡¹ç›®åº”è¯¥å±äº java é¡¹ç›®ï¼Œä½†åœ¨ <code>publications</code>ä¸‹å®ƒä¼šå•ç‹¬èµ° <code>pluginMaven</code>ï¼Œæ‰€ä»¥éœ€è¦å¯¹å…¶åšç‰¹åˆ«å¤„ç†æ¥è§„èŒƒå…¶ ARTIFACT_ID</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">if (project.plugins.hasPlugin(&#x27;java-gradle-plugin&#x27;)) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    pluginMaven(MavenPublication) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        groupId GROUP</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        artifactId POM_ARTIFACT_ID</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        version version</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        configurePom(pom)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="javadocæ‰¾ä¸åˆ°buildconfigæ–‡ä»¶"></a>javadocæ‰¾ä¸åˆ°BuildConfigæ–‡ä»¶<a class="hash-link" href="#javadocæ‰¾ä¸åˆ°buildconfigæ–‡ä»¶" title="Direct link to heading">#</a></h3><p>è¿™é‡Œéœ€è¦åœ¨ç”Ÿæˆ javadoc åŒ…çš„æ—¶å€™æ·»åŠ  BuildConfigç±»çš„è·¯å¾„åˆ° classpath ä¸­ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">task androidJavadocs(type: Javadoc, dependsOn: assembleDebug) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    source = android.sourceSets.main.java.source</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    // include BuildConfig.java</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    classpath += project.files(project.file(&quot;build/generated/source/buildConfig/debug&quot;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    excludes = [&#x27;**/*.kt&#x27;]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å½“ç„¶å¯èƒ½ä¸åŒç‰ˆæœ¬çš„gradleç”Ÿæˆçš„åœ°å€ä¸ä¸€æ ·ï¼Œè¯·è‡ªå·±æµ‹è¯•å¹¶æ·»åŠ </p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="å…³äº-uploadarchives"></a>å…³äº uploadArchives<a class="hash-link" href="#å…³äº-uploadarchives" title="Direct link to heading">#</a></h3><p>æ—§ç‰ˆæœ¬ Gradle çš„taskï¼Œä¾èµ–äºæ’ä»¶ mavenã€‚ç°åœ¨ä¸€èˆ¬éƒ½æ˜¯</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">apply plugin: &#x27;maven-publish&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">afterEvaluate { project -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    publishing {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ä¸”åœ¨ gradle ç‰ˆæœ¬ 5.0åï¼Œéœ€è¦å°† publishing æ”¾ç½®åœ¨ afterEvaluate ä¸­ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="å…³äºä¾èµ–"></a>å…³äºä¾èµ–<a class="hash-link" href="#å…³äºä¾èµ–" title="Direct link to heading">#</a></h3><p>apiä¾èµ–å’Œimplementationä¾èµ–ä¼šé‡å¤å‡ºç°åœ¨ <code>project.configurations.all</code>å¾ªç¯ä¸­(api &gt; implementation)ï¼Œæ‰€ä»¥åªéœ€è¦åˆ¤æ–­ <code>implementation</code>å³å¯</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pom.withXml {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    def dependenciesNode = asNode().appendNode(&#x27;dependencies&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    project.configurations.all { configuration -&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        def name = configuration.name</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        // api will duplicate with implementation</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (name == &#x27;releaseImplementation&#x27; || name == &#x27;implementation&#x27;) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            configuration.allDependencies.each {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (it.name != &quot;unspecified&quot; &amp;&amp; it.version != &quot;unspecified&quot;) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    def groupId = it.group</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    def artifactId = it.name</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (it instanceof ProjectDependency) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        def properties = it.getDependencyProject().getProperties()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        groupId = properties.get(&quot;GROUP&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        artifactId = properties.get(&quot;POM_ARTIFACT_ID&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    println &quot;dependencies:&quot; + groupId + &quot;:&quot; + artifactId + &quot;:&quot; + it.version</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    def dependencyNode = dependenciesNode.appendNode(&#x27;dependency&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dependencyNode.appendNode(&#x27;groupId&#x27;, groupId)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dependencyNode.appendNode(&#x27;artifactId&#x27;, artifactId)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dependencyNode.appendNode(&#x27;version&#x27;, it.version)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dependencyNode.appendNode(&#x27;scope&#x27;, &#x27;compile&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/growingio-sdk-docs/blog/tags/scripts">scripts</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/growingio-sdk-docs/blog/tags/gradle">gradle</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/facebook/docusaurus/edit/master/website/blog/blog/2021-07-21-maven publish.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æ³¨å†Œè´¦å·" class="table-of-contents__link">æ³¨å†Œè´¦å·</a></li><li><a href="#maven-central" class="table-of-contents__link">Maven Central</a><ul><li><a href="#snapshot" class="table-of-contents__link">SNAPSHOT</a></li><li><a href="#æ­£å¼ç‰ˆ" class="table-of-contents__link">æ­£å¼ç‰ˆ</a></li></ul></li><li><a href="#å¼€å§‹å‡†å¤‡" class="table-of-contents__link">å¼€å§‹å‡†å¤‡</a><ul><li><a href="#1-é…ç½®-gpg-ç§é’¥" class="table-of-contents__link">1. é…ç½® GPG ç§é’¥</a></li><li><a href="#2-æœ¬åœ°å…¨å±€-gradle-é…ç½®" class="table-of-contents__link">2. æœ¬åœ°å…¨å±€ gradle é…ç½®</a></li><li><a href="#3-é…ç½®-pom-æ–‡ä»¶" class="table-of-contents__link">3. é…ç½® pom æ–‡ä»¶</a></li><li><a href="#4-ç¼–å†™gradleçš„mavenä¸Šä¼ ä»£ç " class="table-of-contents__link">4. ç¼–å†™gradleçš„mavenä¸Šä¼ ä»£ç </a></li><li><a href="#5-github-ciè„šæœ¬" class="table-of-contents__link">5. Github Ciè„šæœ¬</a></li></ul></li><li><a href="#é™„å½•ï¼šå…³äºåœ¨-growingio-å„ä¸ªä»“åº“ä¸Šé‡åˆ°çš„å‡ ä¸ªé—®é¢˜" class="table-of-contents__link">é™„å½•ï¼šå…³äºåœ¨ GrowingIO å„ä¸ªä»“åº“ä¸Šé‡åˆ°çš„å‡ ä¸ªé—®é¢˜</a><ul><li><a href="#gradle-plugin-æ’ä»¶æ‰“åŒ…" class="table-of-contents__link">gradle plugin æ’ä»¶æ‰“åŒ…</a></li><li><a href="#javadocæ‰¾ä¸åˆ°buildconfigæ–‡ä»¶" class="table-of-contents__link">javadocæ‰¾ä¸åˆ°BuildConfigæ–‡ä»¶</a></li><li><a href="#å…³äº-uploadarchives" class="table-of-contents__link">å…³äº uploadArchives</a></li><li><a href="#å…³äºä¾èµ–" class="table-of-contents__link">å…³äºä¾èµ–</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/growingio-sdk-docs/docs">æ–‡æ¡£</a></li></ul></div><div class="col footer__col"><div class="footer__title">SDK</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/growingio/growingio-sdk-android-autotracker" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Android<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/growingio/growingio-sdk-ios-autotracker" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>iOS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/growingio/growingio-sdk-js-autotracker" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Web<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.growingio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>å®˜ç½‘<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/growingio-sdk-docs/blog">åšå®¢</a></li><li class="footer__item"><a href="https://github.com/growingio" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 åŒ—äº¬æ˜“æ•°ç§‘æŠ€æœ‰é™å…¬å¸ -- Built with Docusaurus.</div></div></div></footer></div>
<script src="/growingio-sdk-docs/assets/js/runtime~main.b8ca66b8.js"></script>
<script src="/growingio-sdk-docs/assets/js/main.546b92c9.js"></script>
</body>
</html>