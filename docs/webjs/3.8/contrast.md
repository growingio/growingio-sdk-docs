---
sidebar_position: 6
title: 3.3与3.8对比
---

本文将介绍3.3版本与3.8版本的差异，方便您充分了解差异并放心的升级。文中将仅列出差异之处，共同之处将不再赘述。

## 架构调整

我们将各个主模块进行了独立拆分，方法调用都是单向的，这大大降低了代码的耦合度，减少了出现缺陷的风险。

功能上，我们对各个模块进行了重新设计和完全的代码重写，以插件的形式进行拆分，进一步捋清了代码逻辑。抛弃了大量原有的冗余和过时逻辑，这对于减小SDK占用大小有很大的意义。

## 关于版本号

由于我们只是在架构层面进行调整，功能上和使用上几乎与3.3版本无异，所以我们并没有直接进入4.0。

如果您目前使用的是3.3的测量协议版本，可以完全不用担心兼容问题，具体升级方式请见[3.3升级到3.8](/docs/webjs/3.8/upgrade)。

## 关于3.3旧版本

3.3版本我们也会继续维护，但仅限于重大问题的修复。

## 差异点

### 初始化

**移除项：** `setConfig` 方法。

> 初始化方法 `setConfig` 废弃，仅支持通过 `init` 方法进行初始化；因为它容易歧义误导使用。

**新增项：** `sessionExpires` 配置项。

> 新增 `sessionExpires` 配置项字段；用于自定义控制session超时时长。

### 数据采集API

**新增项：** `getOption`、`setOption` 方法。

> 新增 `getOption` 方法；用于获取当前SDK配置项状态。[参考文档](/docs/webjs/3.8/commonlyApi#8获取sdk当前配置getoption)
>
> 新增 `setOption` 方法；用于统一动态设置SDK配置项。[参考文档](/docs/webjs/3.8/commonlyApi#动态配置接口setoption)

## 功能点新增、优化、问题修复

1、新增半自动采集浏览功能。详情[参考文档](/docs/webjs/3.8/commonlyApi#半自动埋点浏览事件)

2、带有 `autoplay` 属性且值为 `true` 的原生组件（例如：video）产生的change事件会被自动忽略，如果您想采集它，请[参考文档](/docs/webjs/3.8/commonlyApi#1采集标记)。
