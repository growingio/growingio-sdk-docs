---
title: 版本记录
sidebar_position: 0
---

## V3.3.17 - 2022/09/08

* 🐞 修复hybrid设置userId和userKey为数字时崩溃的问题。
* 🐞 修复userId和userKey可能取值错误的问题。

## V3.3.16 - 2022/08/16

* 🐞 修复部分动态修改配置接口失效的问题。
* 🌟 优化数据采集开关(dataCollect)由关闭修改为开启时自动补发PAGE事件。

## V3.3.15 - 2022/07/26

* 🐞 修复在Safari浏览器上报数据时概率出现乱码字符的问题

## V3.3.14 - 2022/06/21

* 🐞 修复session过期补发page事件，timestamp取值错误的问题；
* 🐞 修复setUserId时有@符号加解密失败的问题；

## V3.3.13 - 2022/05/31

* 🐞 修复与小程序打通时可能多发page的问题

## V3.3.12 - 2022/04/30

* 🐞 修复operatingSystem字段的数据打通

## V3.3.11 - 2022/04/21

* 🐞 修复页面title取值错误的问题

## V3.3.10 - 2022/04/14

* 🎉 新增支持 cookie 中用户信息加密存储，详细参考[关于Cookie](/docs/compliance/webCompliance#关于cookie)
* 🎉 新增支持开启 hashtag 时，将 hashtag 后的参数拼接到query字段上报
* 🎉 新增支持埋点事件属性和用户属性值可设置为数组类型
* 🐞 修复与小程序打通时，当 extraParams 获取不到值，H5页面采集数据对应字段值上报undefined问题
* 🐞 修复与小程序打通时，刷新H5页面打通失败问题

## V3.3.9 - 2022/03/25

* 🐞 修复hook history可能报错的问题
* 🎉 新增打通数据采集开关

## V3.3.8 - 2022/03/22

* 🐞 修复hashtag变化时page事件采集异常的问题

## V3.3.7 - 2022/03/08

* 🌟 优化打包改为ES5，支持IE浏览器
* 🐞 修复页面中含有vConsole调试时报错的问题

## V3.3.6 - 2022/03/01

* 🐞 修复圈选注入监听可能存在跨域取值的问题

## V3.3.5 - 2022/02/10

* 🐞 修复在Safari浏览器中上报数据时小概率出现乱码字符的问题

## V3.3.4 - 2021/12/30

* 🐞 修复集成sdk的网页嵌入iframe报错的问题
* 🌟 优化上报请求失败重复限制

## V3.3.3 - 2021/12/21

* 🐞 修复用户浏览器禁用cookie，sdk发生“丢失事件消息”，且一直返回page事件日志，会导致web页面卡顿的问题
* 🐞 修复初始化设置配置项version不生效的问题
* 🌟 优化支持采集数据内嵌页userKey与小程序userKey一致

## V3.3.1 - 2021/11/25

* 🐞 修复safari浏览器加密解析乱码问题
* 修复内嵌页与小程序打通时，sessionId不一致的问题
* 修复内嵌页与小程序打通时，修复首次进入内嵌页偶发不发送数据的问题
* 修复内嵌页与小程序打通时，内嵌页不能clearUserId的问题

## V3.3.0 - 2021/10/25

* 🎉 新增idMapping开关，控制采集userKey字段
* 🌟 优化小程序打通场景下打通gioId
* 🐞 修复关闭数据采集后开启采集，不发送visit的问题
* 🐞 修复session 30分钟过期，不补发pv的问题
* 🐞 修复切换userId，gesid、esid重置为1的问题

## v3.2.1 - 2021/07/05

* 🎉 新增事件过滤和字段过滤开关
* 🐞 修复全局id和事件id不准确问题
* 🐞 修复切换用户id报错问题

## v3.2.0 - 2021/06/02

* 🎉 新增支持file协议
* 🐞 修复部分机型圈选时获取domtree失败

## v3.0.0 - 2021/01/11

* 🎉 新增支持h5的platform配置，默认web
* 🎉 新增打通小程序和内嵌页，支持u，s的继承
