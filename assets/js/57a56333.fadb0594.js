"use strict";(self.webpackChunkgrowingio_sdk_doc=self.webpackChunkgrowingio_sdk_doc||[]).push([[2570],{4504:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var r=o(5893),t=o(1151);const i={sidebar_position:2,title:"\u65e0\u57cb\u70b9"},s=void 0,a={id:"framework/harmonyos/Autotrack",title:"\u65e0\u57cb\u70b9",description:"SDK \u81ea 2.3.0 \u8d77\uff0c\u6b63\u5f0f\u652f\u6301\u65e0\u57cb\u70b9\u4e0a\u62a5\u548c\u5708\u9009",source:"@site/docs/framework/harmonyos/Autotrack.md",sourceDirName:"framework/harmonyos",slug:"/framework/harmonyos/Autotrack",permalink:"/growingio-sdk-docs/docs/framework/harmonyos/Autotrack",draft:!1,unlisted:!1,editUrl:"https://github.com/growingio/growingio-sdk-docs/edit/master/docs/framework/harmonyos/Autotrack.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"\u65e0\u57cb\u70b9"},sidebar:"docSidebar",previous:{title:"\u5982\u4f55\u96c6\u6210",permalink:"/growingio-sdk-docs/docs/framework/harmonyos/Introduce"},next:{title:"\u521d\u59cb\u5316\u914d\u7f6e",permalink:"/growingio-sdk-docs/docs/framework/harmonyos/Configuration"}},c={},l=[{value:"\u5982\u4f55\u96c6\u6210",id:"\u5982\u4f55\u96c6\u6210",level:2},{value:"\u5f00\u542f\u65e0\u57cb\u70b9\u76d1\u542c",id:"\u5f00\u542f\u65e0\u57cb\u70b9\u76d1\u542c",level:3},{value:"\u5f00\u542f\u65e0\u57cb\u70b9\u91c7\u96c6",id:"\u5f00\u542f\u65e0\u57cb\u70b9\u91c7\u96c6",level:3},{value:"\u5f00\u542f\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6\u81ea\u52a8\u57cb\u70b9",id:"\u5f00\u542f\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6\u81ea\u52a8\u57cb\u70b9",level:3},{value:"\u8bbe\u7f6e\u9875\u9762\u522b\u540d",id:"\u8bbe\u7f6e\u9875\u9762\u522b\u540d",level:2},{value:"\u57fa\u4e8e\u7ec4\u4ef6\u5bfc\u822a (Navigation)",id:"\u57fa\u4e8e\u7ec4\u4ef6\u5bfc\u822a-navigation",level:3},{value:"\u57fa\u4e8e\u9875\u9762\u8def\u7531 (@ohos.router)",id:"\u57fa\u4e8e\u9875\u9762\u8def\u7531-ohosrouter",level:3},{value:"\u8bbe\u7f6e\u9875\u9762\u5c5e\u6027",id:"\u8bbe\u7f6e\u9875\u9762\u5c5e\u6027",level:2},{value:"\u57fa\u4e8e\u7ec4\u4ef6\u5bfc\u822a (Navigation)",id:"\u57fa\u4e8e\u7ec4\u4ef6\u5bfc\u822a-navigation-1",level:3},{value:"\u57fa\u4e8e\u9875\u9762\u8def\u7531 (@ohos.router)",id:"\u57fa\u4e8e\u9875\u9762\u8def\u7531-ohosrouter-1",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u8bbe\u7f6e\u7ec4\u4ef6\u6807\u8bc6",id:"\u8bbe\u7f6e\u7ec4\u4ef6\u6807\u8bc6",level:3},{value:"\u8bbe\u7f6e\u9875\u9762\u522b\u540d",id:"\u8bbe\u7f6e\u9875\u9762\u522b\u540d-1",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"SDK \u81ea 2.3.0 \u8d77\uff0c\u6b63\u5f0f\u652f\u6301\u65e0\u57cb\u70b9\u4e0a\u62a5\u548c\u5708\u9009"}),"\n",(0,r.jsx)(n.h2,{id:"\u5982\u4f55\u96c6\u6210",children:"\u5982\u4f55\u96c6\u6210"}),"\n",(0,r.jsx)(n.h3,{id:"\u5f00\u542f\u65e0\u57cb\u70b9\u76d1\u542c",children:"\u5f00\u542f\u65e0\u57cb\u70b9\u76d1\u542c"}),"\n",(0,r.jsx)(n.p,{children:"\u82e5\u60a8\u7684\u5e94\u7528\u9700\u8981\u4f7f\u7528\u65e0\u57cb\u70b9\u529f\u80fd\uff0c\u5728\u4e3b\u7a97\u53e3\u5bf9\u5e94\u7684 Ability \u7684 onWindowStageCreate \u65b9\u6cd5\u4e2d\u5f00\u542f\u65e0\u57cb\u70b9\u76d1\u542c:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"onWindowStageCreate(windowStage: window.WindowStage) {\n  try {\n    windowStage.loadContent('pages/Index',  (err: BusinessError) => {\n      const errCode: number = err.code\n      if (errCode) {\n        console.error(`Failed to load the content. Cause code: ${err.code}, message: ${err.message}`)\n        return;\n      }\n      console.info('Succeeded in loading the content.')\n      // \u5728 windowStage.loadContent \u5b8c\u6210\u65f6\uff0c\u5f00\u542f\u65e0\u57cb\u70b9\u76d1\u542c\n      GrowingAnalytics.onWindowStageCreate(this, windowStage)\n    });\n  } catch (exception) {\n    console.error(`Failed to load the content. Cause code: ${exception.code}, message: ${exception.message}`)\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1a\n\u8be5\u76d1\u542c\u5728\u672a\u521d\u59cb\u5316 SDK \u4e4b\u524d\u4e0d\u4f1a\u83b7\u53d6\u4efb\u4f55\u8bbe\u5907\u4fe1\u606f\uff0c\u4ee5\u53ca\u4ea7\u751f\u4e8b\u4ef6\u6570\u636e"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u5f00\u542f\u65e0\u57cb\u70b9\u91c7\u96c6",children:"\u5f00\u542f\u65e0\u57cb\u70b9\u91c7\u96c6"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728 SDK \u521d\u59cb\u5316\u65f6\uff0c\u8bbe\u7f6e\u914d\u7f6e\u9879 ",(0,r.jsx)(n.code,{children:"autotrackEnabled"})," \u4e3a ",(0,r.jsx)(n.code,{children:"true"})," (2.1.0 \u7248\u672c\u9ed8\u8ba4\u4e3a ",(0,r.jsx)(n.code,{children:"true"}),"\uff0c2.2.0 \u7248\u672c\u8d77\uff0c\u9ed8\u8ba4\u4e3a ",(0,r.jsx)(n.code,{children:"false"}),"\uff0c\u540e\u7eed\u7248\u672c\u53ef\u80fd\u4f1a\u6709\u6240\u6539\u52a8) \u6765\u5f00\u542f\u91c7\u96c6\u65e0\u57cb\u70b9\u6570\u636e:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"startAnalytics() {\n  let config = new GrowingConfig().NewSaaS(\n    'Your AccountId',\n    'Your DataSourceId',\n    'Your UrlScheme',\n    'Your DataCollectionServerHost<Optional>'\n  )\n  config.autotrackEnabled = true\n  GrowingAnalytics.start(this.context, config)\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5f00\u542f\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6\u81ea\u52a8\u57cb\u70b9",children:"\u5f00\u542f\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6\u81ea\u52a8\u57cb\u70b9"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728 SDK \u521d\u59cb\u5316\u65f6\uff0c\u8bbe\u7f6e\u914d\u7f6e\u9879 ",(0,r.jsx)(n.code,{children:"autotrackAllPages"})," \u4e3a ",(0,r.jsx)(n.code,{children:"true"})," (\u9ed8\u8ba4\u4e3a ",(0,r.jsx)(n.code,{children:"false"}),") \u6765\u5f00\u542f\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6\u81ea\u52a8\u57cb\u70b9\uff0c\u9002\u914d\u7ec4\u4ef6\u5bfc\u822a (Navigation) \u548c\u9875\u9762\u8def\u7531 (@ohos.router):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"startAnalytics() {\n  let config = new GrowingConfig().NewSaaS(\n    'Your AccountId',\n    'Your DataSourceId',\n    'Your UrlScheme',\n    'Your DataCollectionServerHost<Optional>'\n  )\n  config.autotrackAllPages = true\n  GrowingAnalytics.start(this.context, config)\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u8bbe\u7f6e\u9875\u9762\u522b\u540d",children:"\u8bbe\u7f6e\u9875\u9762\u522b\u540d"}),"\n",(0,r.jsx)(n.p,{children:"\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u624b\u52a8\u8bbe\u7f6e\u9875\u9762\u522b\u540d\uff0c\u8bbe\u7f6e\u540e\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u9875\u9762\u8def\u5f84\u4e3a\u5bf9\u5e94\u7684\u522b\u540d"}),"\n",(0,r.jsx)(n.li,{children:"\u65e0\u8bba\u662f\u5426\u5f00\u542f\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6\u81ea\u52a8\u57cb\u70b9\uff0c\u8be5\u9875\u9762\u7684\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6\u90fd\u5c06\u751f\u6210"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u4e8e\u7ec4\u4ef6\u5bfc\u822a-navigation",children:"\u57fa\u4e8e\u7ec4\u4ef6\u5bfc\u822a (Navigation)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'let destination = new NavPathInfo(name, {\n  "growing_alias": "homePage"\n} as Record<string, Object>)\nthis.pageStack.pushDestination(destination)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u4e8e\u9875\u9762\u8def\u7531-ohosrouter",children:"\u57fa\u4e8e\u9875\u9762\u8def\u7531 (@ohos.router)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'router.pushUrl({\n  url: path,\n  params: {\n    "growing_alias": "homePage"\n  }\n})\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u8bbe\u7f6e\u9875\u9762\u5c5e\u6027",children:"\u8bbe\u7f6e\u9875\u9762\u5c5e\u6027"}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u8fc7\u624b\u52a8\u8bbe\u7f6e\u9875\u9762\u5c5e\u6027\u4e3a\u8be5\u9875\u9762\u6dfb\u52a0\u4e8b\u4ef6\u53d1\u751f\u65f6\u6240\u4f34\u968f\u7684\u5c5e\u6027\u4fe1\u606f"}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u4e8e\u7ec4\u4ef6\u5bfc\u822a-navigation-1",children:"\u57fa\u4e8e\u7ec4\u4ef6\u5bfc\u822a (Navigation)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'let destination = new NavPathInfo(name, {\n  "growing_attributes": {\n    "key1": "value1",\n    "key2": 100\n  } as Record<string, Object>\n} as Record<string, Object>)\nthis.pageStack.pushDestination(destination)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u4e8e\u9875\u9762\u8def\u7531-ohosrouter-1",children:"\u57fa\u4e8e\u9875\u9762\u8def\u7531 (@ohos.router)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'router.pushUrl({\n  url: path,\n  params: {\n    "growing_attributes": {\n      "key1": "value1",\n      "key2": 100\n    }\n  }\n})\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,r.jsx)(n.h3,{id:"\u8bbe\u7f6e\u7ec4\u4ef6\u6807\u8bc6",children:"\u8bbe\u7f6e\u7ec4\u4ef6\u6807\u8bc6"}),"\n",(0,r.jsxs)(n.p,{children:["\u4e3a\u4e86\u786e\u4fdd\u70b9\u51fb\u4e8b\u4ef6\u4e2d\u7ec4\u4ef6\u8def\u5f84\u7684\u51c6\u786e\u6027\uff0c\u5728\u5fc5\u8981\u65f6\uff0c\u53ef\u4ee5\u5bf9\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u6dfb\u52a0\u7ec4\u4ef6\u552f\u4e00\u6807\u8bc6\u7b26\u3002\u8fd9\u662f\u7531\u4e8e\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u5728\u5176\u6709\u6e32\u67d3\u5185\u5bb9\u65f6\uff0c\u5176\u7c7b\u578b\u4e3a",(0,r.jsx)(n.code,{children:"__Common__"})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u76f8\u5173\u6587\u6863:  ",(0,r.jsx)("br",{}),"\n\u83b7\u53d6\u8282\u70b9\u7684\u7c7b\u578b: ",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.a,{href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#getnodetype12",children:"https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-arkui-framenode#getnodetype12"})})]}),"\n",(0,r.jsxs)(n.p,{children:["\u7ec4\u4ef6\u6807\u8bc6:  ",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.a,{href:"https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-component-id",children:"https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-universal-attributes-component-id"})})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u53e6\u5916\uff0c\u5f53\u65e0\u6cd5\u5708\u9009\u67d0\u4e2a\u53ef\u4ee5\u89e6\u53d1\u70b9\u51fb\u4e8b\u4ef6\u7684\u7ec4\u4ef6\u65f6\uff0c\u8bf7\u5bf9\u8be5\u7ec4\u4ef6\u6dfb\u52a0\u7ec4\u4ef6\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u4e14\u6dfb\u52a0 GrowingAutotrackElementID \u6807\u8bb0\uff0c\u4f7f\u5f97 SDK \u8ba4\u5b9a\u8be5\u7ec4\u4ef6\u53ef\u4ee5\u5708\u9009\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"Button('Not focusable').id('uniqueID-xxx-' + GrowingAutotrackElementID)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u8bbe\u7f6e\u9875\u9762\u522b\u540d-1",children:"\u8bbe\u7f6e\u9875\u9762\u522b\u540d"}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679c\u60a8\u7684\u5e94\u7528\u4e2d\u6709 NavDestination \u9875\u9762\u540d\u79f0\u76f8\u540c\uff0c\u6216 Router \u76ee\u6807\u547d\u540d\u8def\u7531\u9875\u9762\u540d\u79f0\u76f8\u540c\u7684\u60c5\u51b5\uff0c\u8bf7\u901a\u8fc7\u8bbe\u7f6e\u9875\u9762\u522b\u540d\u6765\u907f\u514d\u6570\u636e\u5206\u6790\u5f02\u5e38"})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1151:(e,n,o)=>{o.d(n,{Z:()=>a,a:()=>s});var r=o(7294);const t={},i=r.createContext(t);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);